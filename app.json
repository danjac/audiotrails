{
    "scripts": {
        "dokku": {
            "predeploy": "python manage.py collectstatic --clear --noinput && python manage.py migrate --noinput"
        }
    },
    "formation": {
        "web": {
            "quantity": 1
        },
        "podping": {
            "quantity": 1
        },
        "worker": {
            "quantity": 2
        }
    },
    "cron": [
        {
            "command": "python manage.py parse_podcast_feeds --followed --limit=300",
            "schedule": "*/12 * * * *"
        },
        {
            "command": "python manage.py parse_podcast_feeds --promoted --limit=300",
            "schedule": "30 * * * *"
        },
        {
            "command": "python manage.py parse_podcast_feeds --queue=feeds:slow --after=14 --limit=300",
            "schedule": "*/5 * * * *"
        },
        {
            "command": "python manage.py parse_podcast_feeds --queue=feeds:slow --after=90 --before=14 --limit=150",
            "schedule": "15 * * * *"
        },
        {
            "command": "python manage.py parse_podcast_feeds --queue=feeds:slow --before=90 --limit=300",
            "schedule": "45 */3 * * *"
        },
        {
            "command": "python manage.py send_recommendation_emails",
            "schedule": "12 9 * * 1"
        },
        {
            "command": "python manage.py make_recommendations",
            "schedule": "20 3 * * *"
        },
        {
            "command": "python manage.py clearsessions",
            "schedule": "35 1 * * *"
        }
    ]
}
