{% extends "account/base.html" %}

{% load i18n %}

{% block subtitle %} | {% translate "Change Password" %}{% endblock %}

{% block content %}
<h1 class="text-lg mb-3 font-bold">{% if token_fail %}{% translate "Bad Token" %}{% else %}{% translate "Change Password" %}{% endif %}</h1>

{% if token_fail %}
{% url 'account_reset_password' as passwd_reset_url %}
<p>{% blocktranslate %}The password reset link was invalid, possibly because it has already been used. Please request a <a href="{{ passwd_reset_url }}">new password reset</a>.{% endblocktranslate %}</p>
{% else %}
{% if form %}

<form {% include "forms/_form_attrs.html" %}>
  {% csrf_token %}
  {% include "forms/_errors.html" with errors=form.non_field_errors %}
  <div class="mb-3">
    {% include "forms/_field.html" with field=form.password1 %}
  </div>
  <div class="mb-3">
    {% include "forms/_field.html" with field=form.password2 %}
  </div>
  <div class="flex items-center justify-end">
    <button type="submit"
            class="btn btn-default flex items-center">
      {% svg "check" css_class="btn-icon mr-2" %}
      {% translate 'Change Password' %}</button>
  </div>
</form>
{% else %}
<p>{% translate 'Your password is now changed.' %}</p>
{% endif %}
{% endif %}
{% endblock %}
