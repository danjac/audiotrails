{% extends "account/settings_base.html" %}
{% block title %}
    {{ block.super }} | Statistics
{% endblock title %}
{% block settings_content %}
    <table class="w-full">
        <tbody class="divide-y space-y-3">
            <tr class="flex justify-between pt-4">
                <td class="w-1/2">Joined</td>
                <td class="w-1/2 font-bold text-right">{% include "includes/date.html" with value=user.date_joined %}</td>
            </tr>
            {% with subscribed=user.subscriptions.count %}
                {% if subscribed %}
                    <tr class="flex justify-between pt-4">
                        <td class="w-1/2">Subscribed</td>
                        <td class="w-1/2 font-bold text-right">
                            <a href="{% url 'podcasts:index' %}" class="link font-bold underline">
                                {{ subscribed }} podcasts{{ subscribed|pluralize }}
                            </a>
                        </td>
                    </tr>
                {% endif %}
            {% endwith %}
            {% with bookmarks=user.bookmarks.count %}
                {% if bookmarks %}
                    <tr class="flex justify-between pt-4">
                        <td class="w-1/2">Bookmarks</td>
                        <td class="w-1/2 font-bold text-right">
                            <a href="{% url 'episodes:bookmarks' %}"
                                class="link font-bold underline">
                                {{ bookmarks }} episode{{ bookmarks|pluralize }}
                            </a>
                        </td>
                    </tr>
                {% endif %}
            {% endwith %}
            {% with listened=user.audio_logs.count %}
                {% if listened %}
                    <tr class="flex justify-between pt-4">
                        <td class="w-1/2">Listened</td>
                        <td class="w-1/2 font-bold text-right">
                            <a href="{% url 'episodes:history' %}" class="link font-bold underline">
                                {{ listened }} episode{{ listened|pluralize }}
                            </a>
                        </td>
                    </tr>
                {% endif %}
            {% endwith %}
        </tbody>
    </table>
{% endblock settings_content %}
