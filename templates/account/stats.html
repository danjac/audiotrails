{% extends "account/settings_base.html" %}

{% load %}

{% block subtitle %} | Stats{% endblock %}

{% block settings_content %}


<div class="w-full lg:flex lg:space-x-3 space-y-3 lg:space-y-0">
  {% if most_listened %}
  <div class="lg:w-1/2">

    <h2 class="font-bold mb-3">Your Most Listened Podcasts</h2>

    <div class="border p-3 dark:border-gray-500">
      <ol class="list-decimal list-inside">
        {% for podcast in most_listened %}
        <li class="{% if not forloop.last %}mb-3{% endif %}">
          <a href="{{ podcast.get_absolute_url }}"
             class="link underline">{{ podcast.title }}</a>
        </li>
        {% endfor %}
      </ol>
    </div>
  </div>

  {% endif %}

  <div class="lg:w-1/2">

    <h2 class="font-bold mb-3">Other Stats</h2>

    <div class="divide-y mb-3 border p-3 dark:border-gray-500 dark:divide-gray-500">

      <div class="flex justify-between py-3">
        <div class="w-1/2">Joined</div>
        <div class="w-1/2 font-bold text-right">{{ user.date_joined|date }}</div>
      </div>

      <div class="flex justify-between py-3">
        <div class="w-1/2">Subscriptions</div>
        <div class="w-1/2 font-bold text-right">{{ stats.subscriptions }} podcast{{ stats.subscriptions|pluralize }}</div>
      </div>

      <div class="flex justify-between py-3">
        <div class="w-1/2">Favorites</div>
        <div class="w-1/2 font-bold text-right">{{ stats.favorites }} episode{{ stats.favorites|pluralize }}</div>
      </div>

      <div class="flex justify-between py-3">
        <div class="w-1/2">Listened</div>
        <div class="w-1/2 font-bold text-right">{{ stats.listened }} episode{{ stats.listened|pluralize }}</div>
      </div>

      <div class="flex justify-between py-3">
        <div class="w-1/2">In progress</div>
        <div class="w-1/2 font-bold text-right">{{ stats.in_progress }} episode{{ stats.in_progress|pluralize }}</div>
      </div>

      <div class="flex justify-between py-3">
        <div class="w-1/2">Completed</div>
        <div class="w-1/2 font-bold text-right">{{ stats.completed }} episode{{ stats.completed|pluralize }}</div>
      </div>
    </div>
  </div>

</div>

{% endblock settings_content %}
