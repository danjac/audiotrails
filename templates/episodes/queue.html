{% extends "episodes/base.html" %}

{% block subtitle %} | Play Queue{% endblock %}

{% block robots %}
<meta name="robots"
      content="noindex" />
{% endblock %}

{% block content %}
<div x-data="{ mode: '{{ mode|default:'move' }}' }"
     id="queue"
     x-init="dragDrop($el.querySelector('#queue-items'))">
  <div class="sm:flex justify-between items-center space-y-2 sm:space-y-0 mb-3">
    <h1 class="font-bold flex justify-center sm:justify-start">Play Queue</h1>
    {% if queue_items.count %}
    <div class="flex items-center justify-center sm:justify-end">
      <button class="btn btn-default flex items-center"
              x-show="mode === 'move'"
              title="Remove items from the queue"
              @click="mode='remove'">
        {% icon "adjustments" css_class="btn-icon mr-2" %}
        Remove Items
      </button>
      <button class="btn btn-secondary flex items-center"
              x-show="mode === 'remove'"
              title="All done"
              @click="mode='move'">
        {% icon "x" css_class="btn-icon mr-2" %}
        Remove Items
      </button>
    </div>
    {% endif %}
  </div>
  {% include "episodes/_queue.html" %}
</div>

{% endblock content %}
