{% with podcast=episode.podcast episode_url=episode.get_absolute_url %}
<article class="border dark:border-gray-500 mb-3 flex items-center space-x-3"
         aria-posinset="{{ forloop.counter }}"
         aria-setsize="-1">

    {% block cover_image %}
    <div class="w-20 h-20">
        {% if is_podcast_detail %}
        {% include "_cover_image.html" with cover_url=episode.get_cover_url alt=episode.cleaned_title size=20 url=episode_url %}
        {% else %}
        {% include "_cover_image.html" with cover_url=podcast.cover_url alt=podcast.cleaned_title size=20 url=podcast.get_absolute_url %}
        {% endif %}
    </div>
    {% endblock cover_image %}

    <div class="flex flex-col place-content-between h-16">
        <h2 class="w-64 max-h-10 flex flex-wrap break-words overflow-y-hidden sm:block sm:w-auto sm:max-w-md md:max-w-lg lg:max-w-xl 2xl:max-w-3xl lg:truncate">
            <a href="{{ episode_url }}"
               class="link"
               title="{{ episode.cleaned_title }}">
                {{ episode.cleaned_title }}
            </a>
        </h2>
        <div class="flex items-center space-x-2 text-xs lg:text-sm">
            {% if is_podcast_detail %}
            <div class="font-semibold text-gray-600 dark:text-gray-300">
                {% include "_date.html" with value=episode.pub_date title="Release Date" %}
            </div>
            {% else %}
            <h3 class="truncate w-64 sm:w-auto sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl 2xl:max-w-3xl">
                <a href="{{ podcast.get_episodes_url }}"
                   class="link text-gray-600 dark:text-gray-300 font-semibold"
                   title="{{ podcast.cleaned_title }}">
                    {{ podcast.cleaned_title }}
                </a>
            </h3>
            {% endif %}
        </div>
    </div>
</article>
{% endwith %}
