{% load i18n %}
{% if user.is_authenticated %}
    <div{% if hx_oob %} hx-swap-oob="true"
    {% endif %}
        id="{{ episode.get_player_target }}">
        {% if is_playing %}
            <button class="inline-flex items-center btn btn-secondary"
                hx-post="{% url 'episodes:close_player' %}"
                hx-push-url="false"
                hx-target="#player"
                hx-swap="innerHTML"
                title="{% translate "Close Player" %}">
                {% icon "stop" "regular" css_class="mr-2" %}
                {% translate "Close" %}
            </button>
        {% else %}
            <button class="inline-flex items-center btn btn-default"
                hx-post="{% url 'episodes:start_player' episode.id %}"
                hx-push-url="false"
                hx-target="#player"
                hx-swap="innerHTML"
                title="{% translate "Open Episode in Player" %}">
                {% icon "play-circle" "regular" css_class="mr-2" %}
                {% translate "Play" %}
            </button>
        {% endif %}
    </div>
{% else %}
    <div>

        <a class="btn btn-default inline-flex items-center justify-center"
            href="{{ episode.get_absolute_url|login_url }}"
            hx-disable="true"
            title="{% translate "You must sign up or log in to play this episode" %}">
            {% icon "play-circle" "regular" css_class="mr-2" %}
            {% translate "Play" %}
        </a>

    </div>
{% endif %}
