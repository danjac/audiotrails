{% load i18n %}
{% with target=episode.get_bookmark_target %}
    <div class="flex items-center"
        id="{{ target }}"
        hx-push-url="false"
        hx-target="this"
        hx-swap="multi:#{{ target }}:outerHTML,#messages:outerHTML"
        hx-disinherit="hx-indicator">
        {% if is_bookmarked %}
            {% translate "Remove from Bookmarks" as t_remove_bookmark %}
            <button title="{{ t_remove_bookmark }}"
                class="inline-flex items-center btn btn-default btn-outline"
                hx-post="{% url 'episodes:remove_bookmark' episode.id %}">
                {% icon "star" css_class="mr-2" %}
                {% translate "Bookmark" %}
            </button>
        {% else %}
            {% translate "Add to Bookmarks" as t_add_bookmark %}
            <button title="{{ t_add_bookmark }}"
                class="inline-flex items-center btn btn-default"
                hx-post="{% url 'episodes:add_bookmark' episode.id %}">
                {% icon "star" "regular" css_class="mr-2" %}
                {% translate "Bookmark" %}
            </button>
        {% endif %}
    </div>
    {% if request.htmx.target == target %}
        {% include "includes/messages.html" %}
    {% endif %}
{% endwith %}
