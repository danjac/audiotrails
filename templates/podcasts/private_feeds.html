{% extends "base.html" %}
{% load heroicons partials %}
{% block title %}
    {{ block.super }} | Private Feeds
{% endblock title %}

{% block content %}
    <c-header title="Private Feeds">
        <c-header.nav>
            {% if not request.search %}
                <c-header.nav.item>
                    <a href="{% url "podcasts:add_private_feed" %}" class="flex items-center btn btn-default">
                        {% heroicon_mini "plus" class="mr-2" %}
                        Add Private Feed
                    </a>
                </c-header.nav.item>
                {% if request.search or page_obj.has_other_pages %}
                    {% if request.search %}
                        <c-header.nav.item>
                            <c-search.button :search-url="search_podcasts_url">
                                Search All Podcasts
                            </c-search.button>
                        </c-header.nav.item>
                    {% endif %}
                    <c-header.nav.item>
                        <c-search.form placeholder="Search: Private Feeds" clear-search />
                    </c-header.nav.item>
                {% endif %}
            {% endif %}
        </c-header.nav>
    </c-header>
    {% partialdef pagination inline=True %}
        <c-paginate :page="page_obj">
            {% for podcast in page_obj %}
                <c-browse.item>
                    <c-podcasts.podcast :podcast="podcast" />
                </c-browse.item>
            {% empty %}
                <c-browse.empty>
                    {% if request.search %}
                        No private feeds found for &quot;<strong>{{ request.search.value }}</strong>&quot;
                    {% else %}
                        <p>You are not subscribed to any Private Feeds.</p>
                        <p>
                            To subscribe, click the <strong>Add Private Feed</strong> button above and enter the URL of a private feed, like the one from a paid Patreon subscription. The feed owner should give you the RSS URL you need.
                        </p>
                    {% endif %}

                </c-browse.empty>
            {% endfor %}
        </c-paginate>
    {% endpartialdef pagination %}
{% endblock content %}
