{% load static %}
{% static 'img/podcast-icon.png' as placeholder %}
{% with cover_url=podcast.cover_url %}
<img class="object-cover border dark:border-gray-500 bg-transparent h-{{ size }} w-{{ size }} hover:opacity-75 {% if cover_url %}lazy filter blur-sm{% endif %}"
     alt="{{ podcast.title|stripentities }}"
     loading="lazy"
     width="200"
     height="200"
     {% if cover_url %}
     x-data="{
        isLoaded: false,
        src: '{{ cover_url }}',
        placeholder: '{{ placeholder }}',
        original: null
     }"
     x-init="original=src;src=placeholder;"
     @load.once="src=original;isLoaded=true;"
     @error.once="src=placeholder;isLoaded=true;"
     :class="{'filter blur-sm': !isLoaded}"
     :src="src"
     {% else %}
     src="{{ placeholder }}"
     {% endif %}>
{% endwith %}
