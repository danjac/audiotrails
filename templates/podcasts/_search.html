{% load podcasts %}
{% with num_podcasts=podcasts|length %}
{% if num_podcasts %}
<div class="z-50 w-full absolute bg-white dark:bg-gray-800 border dark:border-gray-500 mt-2 shadow-xl">
  {% for podcast in podcasts %}
  {% with podcast_url=podcast.get_absolute_url %}
  <div class="flex items-center p-1 {% if not forloop.last %} mb-1{% endif %} hover:bg-gray-100 dark:hover:bg-gray-500 cursor-pointer"
       data-controller="link"
       data-link-url-value="{{ podcast_url }}"
       data-action="click->link#visit"
       data-autocomplete-target="result">
    <div class="mr-2">
      <a href="{{ podcast_url }}"
         title="{{ podcast.title|stripentities }}"
         data-turbo-frame="_top">
        {% cover_image podcast=podcast lazy=False size="8" %}
      </a>
    </div>
    <div class="text-sm tracking-tight leading-tight w-64 truncate">
      <a href="{{ podcast_url }}"
         title="{{ podcast.title|stripentities }}"
         data-turbo-frame="_top"
         class="link">{{ podcast.title|stripentities|truncatechars:60 }}</a>
    </div>
  </div>
  {% endwith %}
  {% endfor %}
  {% if num_podcasts > 9 %}
  <div class="mt-3"
       data-autocomplete-target="result">
    <a href="{{ request.get_full_path }}"
       data-turbo-frame="_top"
       class="link text-sm">
      More results...
    </a>
  </div>
  {% endif %}
</div>
{% endif %}
{% endwith %}
