{% extends "base.html" %}
{% load cache heroicons %}
{% block title %}
    {{ block.super }} | {{ podcast.cleaned_title }}
{% endblock title %}
{% block content %}
    <header class="pb-3 mb-3 space-y-6 border-b lg:space-y-6">
        {% block podcast_header %}
            <h1 class="flex justify-center items-center text-lg font-bold text-center sm:justify-start md:text-xl lg:text-2xl xl:text-3xl sm:text-start">
                {{ podcast.cleaned_title }}
            </h1>
        {% endblock podcast_header %}
        {% cache CACHE_TIMEOUT podcast-detail-header request.get_full_path %}
        <div class="space-y-3 sm:flex sm:justify-between sm:space-y-0">
            <nav class="flex justify-center items-center sm:justify-start">
                <ul class="flex items-center space-x-6">
                    {% active_link podcast.get_detail_url as link %}
                    <li>
                        <a class="{{ link.css }}"
                           href="{{ link.url }}"
                           {% if link.active %}aria-current="page"{% endif %}
                           aria-label="{{ podcast.cleaned_title }} | About"
                           title="{{ podcast.cleaned_title }} | About">About</a>
                    </li>
                    {% active_link podcast.get_episodes_url as link %}
                    <li>
                        <a class="{{ link.css }}"
                           href="{{ link.url }}"
                           {% if link.active %}aria-current="page"{% endif %}
                           aria-label="{{ podcast.cleaned_title }} | Episodes"
                           title="{{ podcast.cleaned_title }} | Episodes">Episodes ({{ podcast.num_episodes }})</a>
                    </li>
                    {% if podcast.has_similar %}
                        {% active_link podcast.get_similar_url as link %}
                        <li>
                            <a class="{{ link.css }}"
                               href="{{ link.url }}"
                               {% if link.active %}aria-current="page"{% endif %}
                               aria-label="{{ podcast.cleaned_title }} | Similar"
                               title="{{ podcast.cleaned_title }} | Similar">Similar</a>
                        </li>
                    {% elif podcast.private %}
                        <li>
                            <a class="link" href="{% url "podcasts:private_feeds" %}">Private Feeds</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
            {% if podcast.num_episodes > PAGE_SIZE %}
                <nav class="flex justify-center items-center sm:justify-start">
                    <ul class="justify-center space-y-3 sm:flex sm:justify-end sm:space-y-0 sm:space-x-3">
                        {% block search_form %}
                            <li class="flex justify-center items-center sm:justify-end">
                                {% search_form "Search: Episodes" search_url=podcast.get_episodes_url %}
                            </li>
                        {% endblock search_form %}
                    </ul>
                </nav>
            {% endif %}
        </div>
    {% endcache %}
</header>
{% block podcast_content %}
{% endblock podcast_content %}
{% endblock content %}
