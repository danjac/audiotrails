{% extends "modal_base.html" %}
{% load podcasts %}
{% block modal_header %}
<a href="{{ podcast.get_absolute_url }}"
   class="font-semibold hover:text-blue-500"
   data-turbo-frame="_top">
  {{ podcast.title|truncatechars:120 }}
</a>
{% endblock %}

{% block modal_content %}

{% with podcast_url=podcast.get_absolute_url %}
<div class="flex items-center w-full mb-3">
  <div class="mr-3">
    <a href="{{ podcast_url }}"
       data-turbo-frame="_top">
      {% cover_image podcast lazy=False size="20" css_class="mr-2" %}
    </a>
  </div>

  <div class="text-sm">
    <div class="mb-3">
      {% include "podcasts/_subscribe_toggle.html" %}
    </div>
    {% share_buttons podcast_url podcast.title %}
  </div>
</div>
{% if podcast.explicit %}
<div class="text-sm font-semibold mb-3">
  This podcast may contain explicit content.
</div>
{% endif %}

<div class="text-sm markdown">
  {{ podcast.description|keepspaces|stripentities|truncatewords:60 }}
  <a href="{% url 'podcasts:podcast_detail' podcast.id podcast.slug %}"
     data-turbo-frame="_top">Read more...</a>
</div>
{% endwith %}
{% endblock %}
